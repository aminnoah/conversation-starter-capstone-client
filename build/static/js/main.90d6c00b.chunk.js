(this["webpackJsonpconvo-to-go"]=this["webpackJsonpconvo-to-go"]||[]).push([[0],{32:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),o=s.n(a),c=s(2),i=s(19),r=s.n(i),l=s(3),d=s(5),j=s(6),h=s(8),u=s(7),b="https://convo-to-go-server.herokuapp.com/api",v="convo-to-go",m={saveAuthToken:function(e){window.sessionStorage.setItem(v,e)},getAuthToken:function(){return window.sessionStorage.getItem(v)},clearAuthToken:function(){window.sessionStorage.removeItem(v),sessionStorage.clear()},hasAuthToken:function(){return!!m.getAuthToken()},makeBasicAuthToken:function(e,t){return window.btoa("".concat(e,":").concat(t))},saveUserId:function(e){return window.sessionStorage.setItem("user_id",e)},getUserId:function(e){return window.sessionStorage.getItem("user_id",e)}},O=m,f=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={privateConvos:[],formValidationError:""},n}return Object(j.a)(s,[{key:"componentDidMount",value:function(){var e=O.getUserId(),t=O.getAuthToken();console.log(e,t),console.log(O.hasAuthToken()),O.hasAuthToken()||(window.location="/")}},{key:"render",value:function(){var e="";return this.state.formValidationError&&(e=Object(n.jsxs)("div",{className:"alert alert-info",children:[Object(n.jsx)("i",{className:"fas fa-info"}),Object(n.jsx)("strong",{children:"Info"}),this.state.formValidationError]})),Object(n.jsxs)("section",{className:"create-convo clearfix",children:[Object(n.jsx)("h2",{children:"Home Page"}),Object(n.jsxs)("div",{className:"divTable blueTable media",children:[Object(n.jsx)("div",{className:"divTableHeading",children:Object(n.jsx)("div",{className:"divTableRow",children:Object(n.jsx)("div",{className:"divTableHead",children:"Convo Events"})})}),Object(n.jsxs)("div",{className:"divTableBody",children:[Object(n.jsx)("div",{className:"divTableRow",children:Object(n.jsx)("div",{className:"divTableCell",children:Object(n.jsx)(c.b,{to:"/convo-event-list/education",children:"Education"})})}),Object(n.jsx)("div",{className:"divTableRow",children:Object(n.jsx)("div",{className:"divTableCell",children:Object(n.jsx)(c.b,{to:"/convo-event-list/entertainment",children:"Entertainment"})})}),Object(n.jsx)("div",{className:"divTableRow",children:Object(n.jsx)("div",{className:"divTableCell",children:Object(n.jsx)(c.b,{to:"/convo-event-list/exercise",children:"Exercise"})})}),Object(n.jsx)("div",{className:"divTableRow",children:Object(n.jsx)("div",{className:"divTableCell",children:Object(n.jsx)(c.b,{to:"/convo-event-list/fashion",children:"Fashion"})})}),Object(n.jsx)("div",{className:"divTableRow",children:Object(n.jsx)("div",{className:"divTableCell",children:Object(n.jsx)(c.b,{to:"/convo-event-list/food",children:"Food"})})}),Object(n.jsx)("div",{className:"divTableRow",children:Object(n.jsx)("div",{className:"divTableCell",children:Object(n.jsx)(c.b,{to:"/convo-event-list/holidays",children:"Holidays"})})}),Object(n.jsx)("div",{className:"divTableRow",children:Object(n.jsx)("div",{className:"divTableCell",children:Object(n.jsx)(c.b,{to:"/convo-event-list/leisure",children:"Leisure"})})}),Object(n.jsx)("div",{className:"divTableRow",children:Object(n.jsx)("div",{className:"divTableCell",children:Object(n.jsx)(c.b,{to:"/convo-event-list/technology",children:"Technology"})})}),Object(n.jsx)("div",{className:"divTableRow",children:Object(n.jsx)("div",{className:"divTableCell",children:Object(n.jsx)(c.b,{to:"/convo-event-list/travel",children:"Travel"})})}),Object(n.jsx)("div",{className:"divTableRow",children:Object(n.jsx)("div",{className:"divTableCell",children:Object(n.jsx)(c.b,{to:"/convo-event-list/work",children:"Work"})})})]})]}),e]})}}]),s}(o.a.Component),p=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={params:{},formValidationError:""},n}return Object(j.a)(s,[{key:"componentDidMount",value:function(){var e=O.getUserId(),t=O.getAuthToken();console.log(e,t),console.log(O.hasAuthToken())}},{key:"render",value:function(){return this.state.formValidationError&&Object(n.jsxs)("div",{className:"alert alert-info",children:[Object(n.jsx)("i",{className:"fas fa-info"}),Object(n.jsx)("strong",{children:"Info"}),this.state.formValidationError]}),Object(n.jsxs)("section",{className:"sign-in",children:[Object(n.jsx)("h1",{children:"Welcome to Convo-To-Go"}),Object(n.jsx)("p",{children:"This application was created to fulfill the need to create conversation anywhere, anytime! How often do you find yourself in a place or at an event and can't find the words to start a conversation? This application, upon registration and login, allow you to pick from a number of event types and select the 'convo' that is best for your situation. So What are you waiting for? Go converse!"}),Object(n.jsx)("div",{className:"form-item",children:Object(n.jsx)("button",{className:"myButton",children:Object(n.jsx)(c.b,{to:"/signin",children:"Sign-In"})})}),Object(n.jsx)("div",{className:"form-item",children:Object(n.jsx)("button",{className:"myButton",children:Object(n.jsx)(c.b,{to:"/registration",children:"Register"})})})]})}}]),s}(o.a.Component);function x(e){return e.message?Object(n.jsxs)("div",{className:"alert alert-info",children:[Object(n.jsx)("i",{className:"fas fa-info"}),Object(n.jsx)("strong",{children:"Info"}),e.message]}):Object(n.jsx)(n.Fragment,{})}var g={postLogin:function(e){return fetch("".concat(b,"/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.log("error:",e)}))},postUser:function(e){return fetch("".concat(b,"/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){console.log("error:",e)}))}},N=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=e.target,s=t.userName,a=t.password,o=t.repeatPassword;console.log("username:",s.value,"password:",a.value),n.setState({error:null}),g.postUser({user_name:s.value,password:a.value}).then((function(e){console.log("user:",e),s.value="",a.value="",o.value="",O.saveAuthToken(e.authToken),O.saveUserId(e.id),window.location="/homepage"})).catch((function(e){n.setState({error:e.error})}))},n.state={userName:{value:"",touched:!1},password:{value:"",touched:!1},repeatPassword:{value:"",touched:!1},LogInUserID:0,isActive:!0,params:{},formValidationError:""},n}return Object(j.a)(s,[{key:"changeUsername",value:function(e){this.setState({userName:{value:e,touched:!0}})}},{key:"changePassword",value:function(e){this.setState({password:{value:e,touched:!0}})}},{key:"updateRepeatPassword",value:function(e){this.setState({repeatPassword:{value:e,touched:!0}})}},{key:"validateUserName",value:function(){var e=this.state.userName.value.trim();return 0===e.length?Object(n.jsx)("p",{className:"input-error",children:"Username is required"}):e.length<2?Object(n.jsx)("p",{className:"input-error",children:"Username must be at least 2 characters long"}):void 0}},{key:"validatePassword",value:function(){var e=this.state.password.value.trim();return 0===e.length?Object(n.jsx)("p",{className:"input-error",children:"Password is required"}):e.length<6||e.length>72?Object(n.jsx)("p",{className:"input-error",children:"Password must be between 6 and 72 characters long"}):e.match(/[0-9]/)?void 0:Object(n.jsx)("p",{className:"input-error",children:"Password must contain at least one number"})}},{key:"validateRepeatPassword",value:function(){if(this.state.repeatPassword.value.trim()!=this.state.password.value.trim())return Object(n.jsx)("p",{className:"input-error",children:"Passwords do not match"})}},{key:"render",value:function(){var e=this,t="";return this.state.formValidationError&&(t=Object(n.jsxs)("div",{className:"alert alert-info",children:[Object(n.jsx)("i",{className:"fas fa-info"}),Object(n.jsx)("strong",{children:"Info"}),this.state.formValidationError]})),Object(n.jsx)("section",{className:"registration",children:Object(n.jsxs)("form",{className:"registration-form",onSubmit:this.handleSubmit,children:[t,Object(n.jsx)("h1",{children:"Convo-To-Go Registration"}),Object(n.jsxs)("div",{className:"form-item",children:[Object(n.jsx)("label",{htmlFor:"register-email",children:"Email"}),Object(n.jsx)("input",{name:"userName",type:"text",placeholder:"email",id:"register-email",onChange:function(t){return e.changeUsername(t.target.value)},required:!0}),this.state.userName.touched&&Object(n.jsx)(x,{message:this.validateUserName()})]}),Object(n.jsxs)("div",{className:"form-item",children:[Object(n.jsx)("label",{htmlFor:"register-password",children:"Password"}),Object(n.jsx)("input",{name:"password",type:"text",placeholder:"password",id:"register-password",onChange:function(t){return e.changePassword(t.target.value)},required:!0}),this.state.password.touched&&Object(n.jsx)(x,{message:this.validatePassword()})]}),Object(n.jsxs)("div",{className:"form-item",children:[Object(n.jsx)("label",{htmlFor:"register-confirm-password",children:"Confirm Password"}),Object(n.jsx)("input",{name:"repeatPassword",type:"text",placeholder:"confirm-password",id:"register-confirm-password",onChange:function(t){return e.updateRepeatPassword(t.target.value)},required:!0}),this.state.repeatPassword.touched&&Object(n.jsx)(x,{message:this.validateRepeatPassword()})]}),Object(n.jsxs)("div",{className:"form-item",children:[Object(n.jsx)("button",{type:"submit",className:"myButton",disabled:this.state.submitButtonDisabled,children:"Register"}),Object(n.jsxs)("p",{children:["Already have an account? ",Object(n.jsx)("a",{href:"/signin",children:"Sign In"})]})]})]})})}}]),s}(o.a.Component),w=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=e.target,s=t.userName,n=t.password;console.log("username:",s.value,"password:",n.value),g.postLogin({user_name:s.value,password:n.value}).then((function(e){console.log("response ID",e),s.value="",n.value="",O.saveAuthToken(e.authToken),O.saveUserId(e.userId),window.location="/homepage"})).then((function(e){console.log("response:",e)})).catch((function(e){console.log(e)}))},n.state={userName:{value:""},password:{value:""},LogInUserID:0,error:null,params:{},formValidationError:""},n}return Object(j.a)(s,[{key:"changeUsername",value:function(e){this.setState({userName:{value:e}})}},{key:"changePassword",value:function(e){this.setState({password:{value:e}})}},{key:"render",value:function(){var e=this,t="";return this.state.formValidationError&&(t=Object(n.jsxs)("div",{className:"alert alert-info",children:[Object(n.jsx)("i",{className:"fas fa-info"}),Object(n.jsx)("strong",{children:"Info"}),this.state.formValidationError]})),Object(n.jsx)("section",{className:"sign-in",children:Object(n.jsxs)("form",{className:"sign-in-form",onSubmit:this.handleSubmit,children:[t,Object(n.jsx)("h1",{children:"Convo-To-Go Sign-In"}),Object(n.jsx)("div",{children:"demo credentials username:demo_user password: password "}),Object(n.jsxs)("div",{className:"form-item",children:[Object(n.jsx)("label",{htmlFor:"sign-in-email",children:"Email"}),Object(n.jsx)("input",{name:"userName",type:"text",placeholder:"email",onChange:function(t){return e.changeUsername(t.target.value)},required:!0,id:"sign-in-email"})]}),Object(n.jsxs)("div",{className:"form-item",children:[Object(n.jsx)("label",{htmlFor:"sign-in-password",children:"Password"}),Object(n.jsx)("input",{name:"password",type:"text",placeholder:"password",onChange:function(t){return e.changePassword(t.target.value)},required:!0,id:"sign-in-password"})]}),Object(n.jsxs)("div",{className:"form-item",children:[Object(n.jsx)("button",{type:"submit",className:"myButton",children:"Sign-In"}),Object(n.jsxs)("p",{children:["Need to create an account? ",Object(n.jsx)("a",{href:"/registration",children:"Register"})]})]})]})})}}]),s}(o.a.Component),T=s(21),y=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).handleConvo=function(e){e.preventDefault();var t,s=O.getUserId(),a={},o=new FormData(e.target),c=Object(T.a)(o);try{for(c.s();!(t=c.n()).done;){var i=t.value;a[i[0]]=i[1]}}catch(k){c.e(k)}finally{c.f()}console.log(a);var r=a.event_type,l=a.min_number_of_people,d=a.question;a.is_public;console.log(r),1!==s||2!==s?(console.log("This is a private convo"),a.is_public=!1):"Select Event Type"===r?(console.log("Event Type not selected"),n.setState({formValidationError:" Please select an Event Type !!"})):"Select Minimum # of People"===l?(console.log("How many people can you convo with?"),n.setState({formValidationError:" Please select a number of people"})):""===d&&(console.log("serial number not selected"),n.setState({formValidationError:" Please select a serial number !!"})),n.setState({params:a,formValidationError:""}),console.log(n.state.params);var j=!1;"Fashion"==r&&(j=!0);var h=!1;"Entertainment"==r&&(h=!0);var u=!1;"Exercise"==r&&(u=!0);var v=!1;"Travel"==r&&(v=!0);var m=!1;"Technology"==r&&(m=!0);var f=!1;"Holidays"==r&&(f=!0);var p=!1;"Education"==r&&(p=!0);var x=!1;"Work"==r&&(x=!0);var g=!1;"Food"==r&&(g=!0);var N=!1;"Leisure"==r&&(N=!0);var w={user_id:s,question:d,is_favorited:!1,is_public:!1,min_number_of_people:l,ok_for_entertainment:h,ok_for_exercise:u,ok_for_travel:v,ok_for_technology:m,ok_for_fashion:j,ok_for_holidays:f,ok_for_education:p,ok_for_work:x,ok_for_food:g,ok_for_leisure:N};console.log(w);var y="".concat(b,"/convos");fetch(y,{method:"POST",body:JSON.stringify(w),headers:{"content-type":"application/json"}}).then((function(e){return console.log(e),e.ok?e.json():e.json().then((function(e){throw e}))})).then((function(e){console.log(e),n.setState({ConvoValues:e}),console.log(n.state)})).catch((function(e){console.log(e),n.setState({appError:e})}))},n.state={params:{},dataParams:{},formValidationError:""},n}return Object(j.a)(s,[{key:"componentDidMount",value:function(){var e=O.getUserId(),t=O.getAuthToken();console.log(e,t),console.log(O.hasAuthToken()),O.hasAuthToken()||(window.location="/")}},{key:"handleInput",value:function(){}},{key:"render",value:function(){var e="";return this.state.formValidationError&&(e=Object(n.jsxs)("div",{className:"alert alert-info",children:[Object(n.jsx)("i",{className:"fas fa-info"}),Object(n.jsx)("strong",{children:"Info"}),this.state.formValidationError]})),Object(n.jsxs)("section",{className:"create-convo clearfix",children:[Object(n.jsx)("h2",{children:"Create a Convo"}),Object(n.jsxs)("form",{className:"convo-details",onSubmit:this.handleConvo,children:[Object(n.jsxs)("div",{className:"divTable blueTable media",children:[Object(n.jsx)("div",{className:"divTableHeading",children:Object(n.jsxs)("div",{className:"divTableRow",children:[Object(n.jsx)("div",{className:"divTableHead",children:"Convo Identifiers"}),Object(n.jsx)("div",{className:"divTableHead",children:"Details"})]})}),Object(n.jsxs)("div",{className:"divTableBody",children:[Object(n.jsxs)("div",{className:"divTableRow",children:[Object(n.jsx)("div",{className:"divTableCell",children:"Convo Event Type"}),Object(n.jsxs)("select",{name:"event_type",id:"event_type",placeholder:"Select Event Type",children:[Object(n.jsx)("option",{children:"Select Event Type"}),Object(n.jsx)("option",{children:"Entertainment"}),Object(n.jsx)("option",{children:"Exercise"}),Object(n.jsx)("option",{children:"Travel"}),Object(n.jsx)("option",{children:"Technology"}),Object(n.jsx)("option",{children:"Fashion"}),Object(n.jsx)("option",{children:"Holidays"}),Object(n.jsx)("option",{children:"Education"}),Object(n.jsx)("option",{children:"Work"}),Object(n.jsx)("option",{children:"Food"}),Object(n.jsx)("option",{children:"Leisure"})]})]}),Object(n.jsxs)("div",{className:"divTableRow",children:[Object(n.jsx)("div",{className:"divTableCell",children:"Minimum Number of People"}),Object(n.jsxs)("select",{name:"min_number_of_people",id:"min_number_of_people",children:[Object(n.jsx)("option",{children:"Select Minimum # of People"}),Object(n.jsx)("option",{children:"1"}),Object(n.jsx)("option",{children:"2"}),Object(n.jsx)("option",{children:"3+"})]})]}),Object(n.jsxs)("div",{className:"divTableRow",children:[Object(n.jsx)("div",{className:"divTableCell",children:"What's your Convo?"}),Object(n.jsx)("input",{type:"text",placeholder:"Enter Convo",name:"question",id:"question"})]})]})]}),Object(n.jsx)("div",{className:"fullWidth",children:Object(n.jsx)("div",{className:"buttonWrapper clearfix",children:Object(n.jsx)("button",{type:"submit",className:"myButton",children:"Create Convo"})})})]}),e]})}}]),s}(o.a.Component),k=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={convosInList:[],error:""},n}return Object(j.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=O.getUserId(),s=O.getAuthToken();console.log(t,s),console.log(O.hasAuthToken()),O.hasAuthToken()||(window.location="/");var n=this.props.match.params.meta;console.log(n);var a="".concat(b,"/convos/by-user-end-list-type/").concat(t,"/").concat(n);console.log(a),fetch(a).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({convosInList:t})})).catch((function(t){return e.setState({error:t})}))}},{key:"render",value:function(){var e="";e=0===this.state.convosInList.length?Object(n.jsx)("p",{children:"No items here"}):this.state.convosInList.map((function(e,t){if(e)return Object(n.jsx)("div",{className:"divTableBody",children:Object(n.jsxs)("div",{className:"divTableRow",children:[Object(n.jsx)("div",{className:"divTableCell",children:Object(n.jsxs)("div",{children:[e.question," "]})}),Object(n.jsxs)("div",{className:"divTableCell",children:[Object(n.jsxs)("div",{children:[e.min_number_of_people," "]}),Object(n.jsxs)("div",{children:[e.is_favorited," "]}),Object(n.jsxs)("div",{children:[e.is_public," "]})]})]},t)})}));var t,s="string"!==typeof(t=this.props.match.params.meta)?"":t.charAt(0).toUpperCase()+t.slice(1),a="";return this.state.formValidationError&&(a=Object(n.jsxs)("div",{className:"alert alert-info",children:[Object(n.jsx)("i",{className:"fas fa-info"}),Object(n.jsx)("strong",{children:"Info"}),this.state.formValidationError]})),Object(n.jsxs)("section",{className:"create-convo clearfix",children:[Object(n.jsxs)("h2",{children:[s," Convos"]}),Object(n.jsxs)("div",{className:"divTable blueTable media",children:[Object(n.jsx)("div",{className:"divTableHeading",children:Object(n.jsxs)("div",{className:"divTableRow",children:[Object(n.jsx)("div",{className:"divTableHead",children:s}),Object(n.jsx)("div",{className:"divTableHead",children:"Minimum Number of People"})]})}),e]}),a]})}}]),s}(o.a.Component),C=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(d.a)(this,s);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).logOutClick=function(){console.log("Logging out"),O.clearAuthToken(),O.getUserId=function(e){console.log(e)},window.location="/"},e}return Object(j.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("header",{className:"clearfix",children:[Object(n.jsx)(c.b,{children:Object(n.jsx)("h4",{to:!0,exact:"/",children:"Convo-To-Go"})}),O.hasAuthToken()?Object(n.jsx)("nav",{className:"nav",children:Object(n.jsxs)("ul",{className:"link",children:[Object(n.jsx)("li",{children:Object(n.jsxs)(c.b,{to:"/create-convo",children:[Object(n.jsx)("i",{className:"fas fa-plus-circle"}),Object(n.jsx)("span",{className:"navlink-text",children:"Create a Convo"})]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(c.b,{to:"/",onClick:this.logOutClick,children:[Object(n.jsx)("i",{className:"fas fa-sign-out-alt"}),Object(n.jsx)("span",{className:"navlink-text",children:"Log Out"})]})})]})}):""]})}}]),s}(a.Component),_=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(d.a)(this,s);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).logOutClick=function(){console.log("Logging out"),O.clearAuthToken(),O.getUserId=function(e){console.log(e)},window.location="/"},e}return Object(j.a)(s,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"error",children:O.hasAuthToken()?Object(n.jsx)("div",{children:Object(n.jsx)("h6",{children:"Whoa where are you going?"})}):Object(n.jsxs)("div",{children:[Object(n.jsx)("h6",{children:"Please login!"}),Object(n.jsx)("li",{children:Object(n.jsx)(c.b,{to:"/",children:"Back To Login"})})]})})}}]),s}(o.a.Component);var S=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(c.a,{children:[Object(n.jsx)(C,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:p}),Object(n.jsx)(l.a,{exact:!0,path:"/signin",component:w}),Object(n.jsx)(l.a,{path:"/registration",component:N}),Object(n.jsx)(l.a,{path:"/homepage",component:f}),Object(n.jsx)(l.a,{path:"/convo-event-list/:meta",component:k}),Object(n.jsx)(l.a,{path:"/create-convo",component:y}),Object(n.jsx)(l.a,{component:_})]})]})})};r.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(c.a,{children:Object(n.jsx)(S,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.90d6c00b.chunk.js.map